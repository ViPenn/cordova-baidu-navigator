<?xml version="1.0" encoding="UTF-8"?>
<plugin xmlns="http://apache.org/cordova/ns/plugins/1.0"
        xmlns:android="http://schemas.android.com/apk/res/android"
        id="cordova-baidu-navigator"
        version="1.0.0">

    <name>Baidu Navigator</name>
    <description>Baidu Navigator  for cordova plugin</description>
    <author>Huang Li</author>
    <keywords>Baidu,Cordova </keywords>
    <license>Apache 2.0 License</license>

    <preference name="API_KEY" />

    <engines>
        <engine name="cordova" version=">=3.0"/>
    </engines>

    <js-module src="www/navigatorPlugin.js" name="NavigatorPlugin">
            <clobbers target="plugins.baidNavigator"/>
    </js-module>

    <!-- android -->
    <platform name="android"> 
    
        <config-file target="res/xml/config.xml" parent="/*">
            <feature name="NavigatorPlugin">
                <param name="android-package" value="cn.baidu.navigator.Navigator"/>
            </feature>
            <param name="onload" value="true" />
        </config-file>

        <config-file target="AndroidManifest.xml" parent="/manifest">
            <uses-permission android:name="android.permission.MOUNT_UNMOUNT_FILESYSTEMS" />  
            <uses-permission android:name="android.permission.BAIDU_LOCATION_SERVICE" />  
            <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />  
            <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />  
            <uses-permission android:name="android.permission.INTERNET" />  
            <uses-permission android:name="android.permission.ACCES_MOCK_LOCATION" />  
            <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />  
            <uses-permission android:name="com.android.launcher.permission.READ_SETTINGS" />  
            <uses-permission android:name="android.permission.WAKE_LOCK" />  
            <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />  
            <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />  
            <uses-permission android:name="android.permission.ACCESS_GPS" />   
            <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />  
            <uses-permission android:name="android.permission.BROADCAST_STICKY" />  
            <uses-permission android:name="android.permission.WRITE_SETTINGS" />  
            <!-- 来电消音 -->  
            <uses-permission android:name="android.permission.PROCESS_OUTGOING_CALLS" />  
            <uses-permission android:name="android.permission.READ_PHONE_STATE" />  
            <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />  
            <uses-permission android:name="android.permission.RECORD_AUDIO" />     
             <!-- 摄影机 -->     
            <uses-permission android:name="android.permission.CAMERA" />
        </config-file>
        <config-file target="AndroidManifest.xml" parent="/manifest/application">
           <service  
           android:name="com.baidu.location.f"  
           android:enabled="true"  
           android:process=":remote" />
            <activity android:name="cn.baidu.navigator.GuideActivity"
                      android:exported="false">
            
            </activity>
       <meta-data android:name="com.baidu.lbsapi.API_KEY"  
            android:value="$API_KEY" />
            
        </config-file>
        <!-- libs -->
        <source-file src="src/android/libs/BaiduLBS_Android.jar" target-dir="libs"/>
        <source-file src="src/android/libs/httpmime-4.1.2.jar" target-dir="libs"/>
        <source-file src="src/android/libs/armeabi/libapp_BaiduNaviApplib.so" target-dir="libs/armeabi"/>
        <source-file src="src/android/libs/armeabi/libapp_BaiduVIlib.so" target-dir="libs/armeabi"/>
        <source-file src="src/android/libs/armeabi/libbd_etts.so" target-dir="libs/armeabi"/>
        <source-file src="src/android/libs/armeabi/libbds.so" target-dir="libs/armeabi"/>
        <source-file src="src/android/libs/armeabi/libBDSpeechDecoder_V1.so" target-dir="libs/armeabi"/>
        <source-file src="src/android/libs/armeabi/libcurl.so" target-dir="libs/armeabi"/>
        <source-file src="src/android/libs/armeabi/libgnustl_shared.so" target-dir="libs/armeabi"/>
        <!-- assets -->
        <source-file src="src/android/assets/BaiduNaviSDK_3.0.png" target-dir="assets"/>
        <source-file src="src/android/assets/BaiduNaviSDK_Resource_3.0.png" target-dir="assets"/>
        <source-file src="src/android/assets/channel" target-dir="assets"/>
          
        <!--source code-->
        <source-file src="src/android/GuideActivity.java" target-dir="src/cn/baidu/navigator"/>
        <source-file src="src/android/Navigator.java" target-dir="src/cn/baidu/navigator"/>
    </platform>
</plugin>